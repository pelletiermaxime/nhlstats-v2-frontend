import{C as e,p as t,r as a,D as r,E as i}from"../nitro/nitro.mjs";import{v as u,e as l,u as n,r as o,f as s,n as v,g as p}from"./server.mjs";function defineNuxtLink(r){const i=r.componentName||"NuxtLink";function isHashLinkWithoutHashMode(e){return"string"==typeof e&&e.startsWith("#")}function useNuxtLink(e){const i=l(),n=s(),p=u.computed(()=>!!e.target&&"_self"!==e.target),c=u.computed(()=>{const a=e.to||e.href||"";return"string"==typeof a&&t(a,{acceptRelative:!0})}),d=u.resolveComponent("RouterLink"),f=d&&"string"!=typeof d?d.useLink:void 0,h=u.computed(()=>{if(e.external)return!0;const t=e.to||e.href||"";return"object"!=typeof t&&(""===t||c.value)}),g=u.computed(()=>{const t=e.to||e.href||"";return h.value?t:function(e,t,a){const i=a??r.trailingSlash;if(!e||"append"!==i&&"remove"!==i)return e;if("string"==typeof e)return applyTrailingSlashBehavior(e,i);const u="path"in e&&void 0!==e.path?e.path:t(e).path;return{...e,name:void 0,path:applyTrailingSlashBehavior(u,i)}}(t,i.resolve,e.trailingSlash)}),m=h.value?void 0:f?.({...e,to:g}),y=u.computed(()=>{const t=e.trailingSlash??r.trailingSlash;if(!g.value||c.value||isHashLinkWithoutHashMode(g.value))return g.value;if(h.value){const e="object"==typeof g.value&&"path"in g.value?o(g.value):g.value;return applyTrailingSlashBehavior("object"==typeof e?i.resolve(e).href:e,t)}return"object"==typeof g.value?i.resolve(g.value)?.href??null:applyTrailingSlashBehavior(a(n.app.baseURL,g.value),t)});return{to:g,hasTarget:p,isAbsoluteUrl:c,isExternal:h,href:y,isActive:m?.isActive??u.computed(()=>g.value===i.currentRoute.value.path),isExactActive:m?.isExactActive??u.computed(()=>g.value===i.currentRoute.value.path),route:m?.route??u.computed(()=>i.resolve(g.value)),async navigate(t){await v(y.value,{replace:e.replace,external:h.value||p.value})}}}return u.defineComponent({name:i,props:{to:{type:[String,Object],default:void 0,required:!1},href:{type:[String,Object],default:void 0,required:!1},target:{type:String,default:void 0,required:!1},rel:{type:String,default:void 0,required:!1},noRel:{type:Boolean,default:void 0,required:!1},prefetch:{type:Boolean,default:void 0,required:!1},prefetchOn:{type:[String,Object],default:void 0,required:!1},noPrefetch:{type:Boolean,default:void 0,required:!1},activeClass:{type:String,default:void 0,required:!1},exactActiveClass:{type:String,default:void 0,required:!1},prefetchedClass:{type:String,default:void 0,required:!1},replace:{type:Boolean,default:void 0,required:!1},ariaCurrentValue:{type:String,default:void 0,required:!1},external:{type:Boolean,default:void 0,required:!1},custom:{type:Boolean,default:void 0,required:!1},trailingSlash:{type:String,default:void 0,required:!1}},useLink:useNuxtLink,setup(t,{slots:a}){const i=l(),{to:o,href:s,navigate:v,isExternal:p,hasTarget:c,isAbsoluteUrl:d}=useNuxtLink(t);u.shallowRef(!1);async function prefetch(e=n()){}return()=>{if(!p.value&&!c.value&&!isHashLinkWithoutHashMode(o.value)){const e={ref:undefined,to:o.value,activeClass:t.activeClass||r.activeClass,exactActiveClass:t.exactActiveClass||r.exactActiveClass,replace:t.replace,ariaCurrentValue:t.ariaCurrentValue,custom:t.custom};return t.custom||(e.rel=t.rel||void 0),u.h(u.resolveComponent("RouterLink"),e,a.default)}const l=t.target||null,n=((...e)=>e.find(e=>void 0!==e))(t.noRel?"":t.rel,r.externalRelAttribute,d.value||c.value?"noopener noreferrer":"")||null;return t.custom?a.default?a.default({href:s.value,navigate:v,prefetch:prefetch,get route(){if(!s.value)return;const t=new URL(s.value,"http://localhost");return{path:t.pathname,fullPath:t.pathname,get query(){return e(t.search)},hash:t.hash,params:{},name:void 0,matched:[],redirectedFrom:void 0,meta:{},href:s.value}},rel:n,target:l,isExternal:p.value||c.value,isActive:!1,isExactActive:!1}):null:u.h("a",{ref:undefined,href:s.value||null,rel:n,target:l,onClick:e=>{if(!p.value&&!c.value)return e.preventDefault(),t.replace?i.replace(s.value):i.push(s.value)}},a.default?.())}}})}const c=defineNuxtLink(p);function applyTrailingSlashBehavior(e,a){const u="append"===a?r:i;return t(e)&&!e.startsWith("http")?e:u(e,!0)}export{c as _};
//# sourceMappingURL=nuxt-link-CIRq_wNy.mjs.map
